---
# defaults file for waal70.paperless-ngx
auth_token: "auth_token_in_vaulted vars"
# If you run this on the host where paperless-ngx is running, this should be localhost
ppl_base: "http://localhost:8010"
ppl_endpoint: "{{ ppl_base }}/api/"

mail_token: "tokengoeshere"
mail_imap: "imap.gmail.com"
mail_imap_port: 993
# If you don't put an @-symbol here, the playbook will skip e-mail config
mail_username: "emailadress"
mail_name: "name for the account"

ppl_sso: false
ppl_sso_client_id: "clientidfromoauthprovidergoeshere"
ppl_sso_secret: "secretfromoauthprovidergoeshere"
ppl_sso_base_url: "callbackurlfromoauthprovidergoeshere"

delete_all_doc_types: false
cleansetag: "is_cleansed"
# Switch to false to enable the cleansing of titles based on the rules in cleanse_doc_titles.yml
cleanse_titles: true

# Please make sure to put the correct credentials in /media/.<type>creds
cifs_consume_path: "/mountpointhere"
cifs_export_path: "/mountpointexport"

ppl_user: "ppl"
ppl_password: "ppl"
ppl_dbpassword: "paperlessdb"
# This controls rolling out the config
ppl_do_config: true
# This controls the making of a database export
ppl_export: false
# This controls whether to make the cron job for the export
ppl_export_schedule: true
# The command to export. Please note that import can be done on an empty ppl instance
# You can then use: docker exec -it ppl-web document_importer ../export
# Should you not have exported thumbnails (-nt), you can regenerate them through:
# docker exec -it ppl-web document_thumbnails
ppl_export_cmd: "document_exporter -p -f -nt -d ../export"

ppl_domain: "yourdomain.here" # without http(s):// and without a trailing slash

doc_types: [
  ["Type1", 6],
  ["Type2", 6]
]

correspondents: [
  ["Corr1", 6],
  ["Corr2", 6]
]

# Please note that tags_main.yml sets a specific INBOX tag!
ppl_tags: [
  ["Tag1", "#302d86"],
  ["Tag2", "#302d86"]
]

storagepaths: [
  ["SP1", "PATH_ONE/{{ '{{' }} created_year {{ '}}' }}/"],
  ["SP2", "PATH_TWO/AnotherFolder/{{ '{{' }} created_year {{ '}}' }}/"]
]
# These workflows follow the name value pair type of variable and trigger on "consumption started = type"
# ["workflow_name", "filter_path", "assign_doc_type", "assign_correspondent", "assign_storage_path"]
# Please note the required referential integrity with the values above!
consumption_workflows: [
  ["CWF_1", "*/foldertomatch/*", "Type1", "Corr1", "SP1"],
  ["CWF_2", "*/anotherfolder/*", "Type2", "Corr1", "SP2"]
]

consumption_workflow_corr: [
  ["CWC_1", "*filename*match*", "Corr1"]
]

tagging_workflows: [
  ["TWF_1", "*stringintitle*", "Tag1"],
  ["TWF_2", "*otherstring*", "Tag2"]
]

notification_workflows: [
  ["NWF_1", "triggertag", "<ntfytopichere>", "<notification_message"],
  ["NWF_2", "triggertag", "<ntfytopichere>", "<notification_message"],
]

# Config for default three user groups:
# Power User: that can do everything in/to the install
# Regular User: may own documents, change documents and add notes, create UIsettings
# ReadOnly: may only view stuff

ppl_groups: [
  {
    "name": "PowerUser",
    "permissions": [
      "add_logentry",
      "change_logentry",
      "delete_logentry",
      "view_logentry",
      "add_group",
      "change_group",
      "delete_group",
      "view_group",
      "add_user",
      "change_user",
      "delete_user",
      "view_user",
      "add_correspondent",
      "change_correspondent",
      "delete_correspondent",
      "view_correspondent",
      "add_customfield",
      "change_customfield",
      "delete_customfield",
      "view_customfield",
      "add_document",
      "change_document",
      "delete_document",
      "view_document",
      "add_documenttype",
      "change_documenttype",
      "delete_documenttype",
      "view_documenttype",
      "add_note",
      "change_note",
      "delete_note",
      "view_note",
      "add_paperlesstask",
      "change_paperlesstask",
      "delete_paperlesstask",
      "view_paperlesstask",
      "add_savedview",
      "change_savedview",
      "delete_savedview",
      "view_savedview",
      "add_sharelink",
      "change_sharelink",
      "delete_sharelink",
      "view_sharelink",
      "add_storagepath",
      "change_storagepath",
      "delete_storagepath",
      "view_storagepath",
      "add_tag",
      "change_tag",
      "delete_tag",
      "view_tag",
      "add_uisettings",
      "change_uisettings",
      "delete_uisettings",
      "view_uisettings",
      "add_workflow",
      "change_workflow",
      "delete_workflow",
      "view_workflow",
      "add_applicationconfiguration",
      "change_applicationconfiguration",
      "delete_applicationconfiguration",
      "view_applicationconfiguration",
      "add_mailaccount",
      "change_mailaccount",
      "delete_mailaccount",
      "view_mailaccount",
      "add_mailrule",
      "change_mailrule",
      "delete_mailrule",
      "view_mailrule",
      "add_processedmail",
      "change_processedmail",
      "delete_processedmail",
      "view_processedmail"
    ]
  },
  {
    "name": "ReadOnly",
    "permissions": [
      "view_logentry",
      "view_group",
      "view_user",
      "view_correspondent",
      "view_customfield",
      "view_document",
      "view_documenttype",
      "view_note",
      "view_paperlesstask",
      "view_savedview",
      "view_sharelink",
      "view_storagepath",
      "view_tag",
      "add_uisettings",
      "view_uisettings",
      "view_applicationconfiguration"
    ]
  },
  {
    "name": "RegularUser",
    "permissions": [
      "view_logentry",
      "view_group",
      "view_user",
      "view_correspondent",
      "view_customfield",
      "add_document",
      "change_document",
      "view_document",
      "view_documenttype",
      "add_note",
      "view_note",
      "view_paperlesstask",
      "view_savedview",
      "view_sharelink",
      "view_storagepath",
      "view_tag",
      "add_uisettings",
      "change_uisettings",
      "delete_uisettings",
      "view_uisettings",
      "view_workflow",
      "view_applicationconfiguration",
      "view_processedmail"
    ]
  }
]
